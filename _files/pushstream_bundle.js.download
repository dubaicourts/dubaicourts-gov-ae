!function(t,e){"use strict";if(!t.PushStream){var n={},s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=function(t){return(t<10?"0":"")+t};n.dateToUTCString=function(t){var e=o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds());return s[t.getUTCDay()]+", "+o(t.getUTCDate())+" "+i[t.getUTCMonth()]+" "+t.getUTCFullYear()+" "+e+" GMT"};var r=function(){for(var t=arguments[0]||{},e=0;e<arguments.length;e++){var n=arguments[e];for(var s in n)n.hasOwnProperty&&!n.hasOwnProperty(s)||(t[s]=n[s])}return t},a=/^[\],:{}\s]*$/,c=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,h=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,u=/(?:^|:|,)(?:\s*\[)+/g;n.parseJSON=function(e){if(!e||!_(e))return null;if(e=e.replace(/^\s*/,"").replace(/\s*$/,""),t.JSON&&t.JSON.parse)try{return t.JSON.parse(e)}catch(t){throw"Invalid JSON: "+e}if(a.test(e.replace(c,"@").replace(h,"]").replace(u,"")))return new Function("return "+e)();throw"Invalid JSON: "+e};var l=function(t){var e={};return e[t.tagArgument]="",e[t.timeArgument]="",e[t.eventIdArgument]="",t.messagesControlByArgument&&(e[t.tagArgument]=Number(t._etag),t._lastModified?e[t.timeArgument]=t._lastModified:t._lastEventId&&(e[t.eventIdArgument]=t._lastEventId)),e},m=function(){return(new Date).getTime()},d=function(){return{_:m()}},p=function(e){var n=e;if("object"==typeof e){for(var s in n="",e)e.hasOwnProperty&&!e.hasOwnProperty(s)||(n+="&"+s+"="+t.escape(e[s]));n=n.substring(1)}return n||""},g=function(t,e){return t+(t.indexOf("?")<0?"?":"&")+p(e)},f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},_=function(t){return"[object String]"===Object.prototype.toString.call(t)},v=function(t){return"[object Date]"===Object.prototype.toString.call(t)},y={logger:null,debug:function(){"debug"===j.LOG_LEVEL&&y._log.apply(y._log,arguments)},info:function(){"info"!==j.LOG_LEVEL&&"debug"!==j.LOG_LEVEL||y._log.apply(y._log,arguments)},error:function(){y._log.apply(y._log,arguments)},_log:function(){if(!y.logger){var n=t.console;n&&n.log&&(n.log.apply?y.logger=n.log:"object"==typeof n.log&&Function.prototype.bind?y.logger=Function.prototype.bind.call(n.log,n):"object"==typeof n.log&&Function.prototype.call&&(y.logger=function(){Function.prototype.call.call(n.log,n,Array.prototype.slice.call(arguments))}))}y.logger&&y.logger.apply(t.console,arguments);var s=e.getElementById(j.LOG_OUTPUT_ELEMENT_ID);if(s){for(var i="",o=0;o<arguments.length;o++)i+=arguments[o]+" ";s.innerHTML+=i+"\n";var r=s.innerHTML.split("\n");r.length>100&&(s.innerHTML=r.slice(-100).join("\n"))}}},S={_getXHRObject:function(){var e=!1;try{e=new t.XMLHttpRequest}catch(n){try{e=new t.XDomainRequest}catch(n){try{e=new t.ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{e=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}}}return e},_send:function(e,n){(e=e||{}).timeout=e.timeout||3e4;var s=S._getXHRObject();if(s&&e.url){S.clear(e),s.onreadystatechange=function(){4===s.readyState&&(S.clear(e),e.afterReceive&&e.afterReceive(s),200===s.status?e.success&&e.success(s.responseText):e.error&&e.error(s.status))},e.beforeOpen&&e.beforeOpen(s);var i={},o=null,a="GET";return n?(o=p(e.data),a="POST"):i=e.data||{},s.open(a,g(e.url,r({},i,d())),!0),e.beforeSend&&e.beforeSend(s),n?(s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")):e.timeoutId=t.setTimeout((function(){try{s.abort()}catch(t){}S.clear(e),e.error(304)}),e.timeout+2e3),s.send(o),s}},_clear_script:function(t){t&&(t.onerror=t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t))},_clear_timeout:function(t){t.timeoutId=w(t.timeoutId)},clear:function(t){S._clear_timeout(t),S._clear_script(e.getElementById(t.scriptId))},jsonp:function(n){n.timeout=n.timeout||3e4,S.clear(n);var s=e.head||e.getElementsByTagName("head")[0],i=e.createElement("script"),o=m(),a=function(){S.clear(n);var e=n.data.callback;e&&(t[e]=function(){t[e]=null});var s=m();n.error(s-o>n.timeout/2?304:0)};i.onerror=a,i.onload=i.onreadystatechange=function(t){i.readyState&&!/loaded|complete/.test(i.readyState)||(S.clear(n),n.load())},n.beforeOpen&&n.beforeOpen({}),n.beforeSend&&n.beforeSend({}),n.timeoutId=t.setTimeout(a,n.timeout+2e3),n.scriptId=n.scriptId||m();var c=n.data.callback;return c&&(t[c]=function(){t[c]=null}),n.data.callback=n.scriptId+"_onmessage_"+m(),t[n.data.callback]=n.success,i.setAttribute("src",g(n.url,r({},n.data,d()))),i.setAttribute("async","async"),i.setAttribute("id",n.scriptId),s.insertBefore(i,s.firstChild),n},load:function(t){return S._send(t,!1)},post:function(t){return S._send(t,!0)}},b=function(e){return e?t.escape(e):""},C=function(e){return e?t.unescape(e):""};n.parseMessage=function(t,e){var s=t;return _(t)&&(s=n.parseJSON(t)),{id:s[e.jsonIdKey],channel:s[e.jsonChannelKey],text:_(s[e.jsonTextKey])?C(s[e.jsonTextKey]):s[e.jsonTextKey],tag:s[e.jsonTagKey],time:s[e.jsonTimeKey],eventid:s[e.jsonEventIdKey]||""}};var T=function(t,e,n,s){var i=t.wrapper.type===x.TYPE,o=t.useSSL,a=i?o?"wss://":"ws://":o?"https://":"http://";a+=t.host,a+=!o&&80===t.port||o&&443===t.port?"":":"+t.port,a+=e;var c=function(t,e){var n,s="";for(var i in t)t.hasOwnProperty&&!t.hasOwnProperty(i)||(s+="/"+i+(e&&(n=t[i]).backtrack?".b"+Number(n.backtrack):""));return s}(t.channels,s);if(t.channelsByArgument){var h={};h[t.channelsArgument]=c.substring(1),n=r({},n,h)}else a+=c;return g(a,n)},P=function(t){var e="",n=t.useSSL?"https://":"http://";for(var s in n+=t.host,n+=80!==t.port&&443!==t.port?":"+t.port:"",n+=t.urlPrefixPublisher,t.channels)if(!t.channels.hasOwnProperty||t.channels.hasOwnProperty(s)){e=s;break}return n+"?id="+e};n.extract_xss_domain=function(t){if(t.match(/^(\d{1,3}\.){3}\d{1,3}$/))return t;var e=t.split("."),n=Math.max(e.length-1,t.match(/(\w{4,}\.\w{2}|\.\w{3,})$/)?2:3);return e.slice(-1*n).join(".")};var E=function(t,e){return function(){return t.apply(e,arguments)}},w=function(e){return e&&t.clearTimeout(e),null},O=function(t){y.info("["+this.type+"] message received",arguments);var e=n.parseMessage(t.data,this.pushstream);e.tag&&(this.pushstream._etag=e.tag),e.time&&(this.pushstream._lastModified=e.time),e.eventid&&(this.pushstream._lastEventId=e.eventid),this.pushstream._onmessage(e.text,e.id,e.channel,e.eventid,!0)},I=function(){this.pushstream._onopen(),y.info("["+this.type+"] connection opened")},L=function(e){y.info("["+this.type+"] error (disconnected by server):",e),this.pushstream.readyState===j.OPEN&&this.type===A.TYPE&&"error"===e.type&&this.connection.readyState===t.EventSource.CONNECTING||(this._closeCurrentConnection(),this.pushstream._onerror({type:e&&("load"===e.type||"close"===e.type)||this.pushstream.readyState===j.CONNECTING?"load":"timeout"}))},x=function(e){if(!t.WebSocket&&!t.MozWebSocket)throw"WebSocket not supported";this.type=x.TYPE,this.pushstream=e,this.connection=null};x.TYPE="WebSocket",x.prototype={connect:function(){this._closeCurrentConnection();var e=r({},this.pushstream.extraParams(),d(),l(this.pushstream)),n=T(this.pushstream,this.pushstream.urlPrefixWebsocket,e,!this.pushstream._useControlArguments());this.connection=t.WebSocket?new t.WebSocket(n):new t.MozWebSocket(n),this.connection.onerror=E(L,this),this.connection.onclose=E(L,this),this.connection.onopen=E(I,this),this.connection.onmessage=E(O,this),y.info("[WebSocket] connecting to:",n)},disconnect:function(){this.connection&&(y.debug("[WebSocket] closing connection to:",this.connection.URL),this.connection.onclose=null,this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(t){}this.connection=null}},sendMessage:function(t){this.connection&&this.connection.send(t)}};var A=function(e){if(!t.EventSource)throw"EventSource not supported";this.type=A.TYPE,this.pushstream=e,this.connection=null};A.TYPE="EventSource",A.prototype={connect:function(){var e=this,n=function(){e._closeCurrentConnection(),setTimeout((function(){var s=r({},e.pushstream.extraParams(),d(),l(e.pushstream)),i=T(e.pushstream,e.pushstream.urlPrefixEventsource,s,!e.pushstream._useControlArguments());e.connection=new t.EventSource(i),e.connection.onerror=n,e.connection.onopen=E(I,e),e.connection.onmessage=E(O,e)}),e.pushstream.reconnectOnTimeoutInterval)};n()},disconnect:function(){this.connection&&(y.debug("[EventSource] closing connection to:",this.connection.URL),this.connection.onclose=null,this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(t){}this.connection=null}}};var N=function(t){this.type=N.TYPE,this.pushstream=t,this.connection=null,this.url=null,this.frameloadtimer=null,this.pingtimer=null,this.iframeId="PushStreamManager_"+t.id};N.TYPE="Stream",N.prototype={connect:function(){this._closeCurrentConnection();var t=n.extract_xss_domain(this.pushstream.host);try{e.domain=t}catch(e){y.error("[Stream] (warning) problem setting document.domain = "+t+" (OBS: IE8 does not support set IP numbers as domain)")}var s=r({},this.pushstream.extraParams(),d(),{streamid:this.pushstream.id},l(this.pushstream));this.url=T(this.pushstream,this.pushstream.urlPrefixStream,s,!this.pushstream._useControlArguments()),y.debug("[Stream] connecting to:",this.url),this.loadFrame(this.url)},disconnect:function(){this.connection&&(y.debug("[Stream] closing connection to:",this.url),this._closeCurrentConnection(),this.pushstream._onclose())},_clear_iframe:function(){var t=e.getElementById(this.iframeId);t&&(t.onload=null,t.src="about:blank",t.parentNode&&t.parentNode.removeChild(t))},_closeCurrentConnection:function(){this._clear_iframe(),this.connection&&(this.pingtimer=w(this.pingtimer),this.frameloadtimer=w(this.frameloadtimer),this.connection=null,this.transferDoc=null,"function"==typeof t.CollectGarbage&&t.CollectGarbage())},loadFrame:function(n){this._clear_iframe();try{var s=new t.ActiveXObject("htmlfile");s.open(),s.write('<html><script>document.domain="'+e.domain+'";<\/script></html>'),s.parentWindow.PushStream=j,s.close();var i=s.createElement("div");s.appendChild(i),i.innerHTML='<iframe src="'+n+'"></iframe>',this.connection=i.getElementsByTagName("IFRAME")[0],this.connection.onload=E(L,this),this.transferDoc=s}catch(t){var o=e.createElement("IFRAME");o.style.width="1px",o.style.height="1px",o.style.border="none",o.style.position="absolute",o.style.top="-10px",o.style.marginTop="-10px",o.style.zIndex="-20",o.PushStream=j,e.body.appendChild(o),o.setAttribute("src",n),o.onload=E(L,this),this.connection=o}this.connection.setAttribute("id",this.iframeId),this.frameloadtimer=t.setTimeout(E(L,this),this.pushstream.timeout)},register:function(t){this.frameloadtimer=w(this.frameloadtimer),t.p=E(this.process,this),this.connection.onload=E(this._onframeloaded,this),this.pushstream._onopen(),this.setPingTimer(),y.info("[Stream] frame registered")},process:function(t,e,n,s,i,o){this.pingtimer=w(this.pingtimer),y.info("[Stream] message received",arguments),-1!==t&&(o&&(this.pushstream._etag=o),i&&(this.pushstream._lastModified=i),s&&(this.pushstream._lastEventId=s)),this.pushstream._onmessage(C(n),t,e,s||"",!0),this.setPingTimer()},_onframeloaded:function(){y.info("[Stream] frame loaded (disconnected by server)"),this.connection.onload=null,this.disconnect()},setPingTimer:function(){this.pingtimer&&w(this.pingtimer),this.pingtimer=t.setTimeout(E(L,this),this.pushstream.pingtimeout)}};var M=function(t){this.type=M.TYPE,this.pushstream=t,this.connection=null,this.opentimer=null,this.messagesQueue=[],this._linkedInternalListen=E(this._internalListen,this),this.xhrSettings={timeout:this.pushstream.timeout,data:{},url:null,success:E(this.onmessage,this),error:E(this.onerror,this),load:E(this.onload,this),beforeSend:E(this.beforeSend,this),afterReceive:E(this.afterReceive,this)}};M.TYPE="LongPolling",M.prototype={connect:function(){this.messagesQueue=[],this._closeCurrentConnection(),this.urlWithBacktrack=T(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!0),this.urlWithoutBacktrack=T(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!1),this.xhrSettings.url=this.urlWithBacktrack;var e=n.extract_xss_domain(this.pushstream.host),s=n.extract_xss_domain(t.location.hostname),i=this.pushstream.port,o=t.location.port?Number(t.location.port):this.pushstream.useSSL?443:80;this.useJSONP=e!==s||i!==o||this.pushstream.useJSONP,this.xhrSettings.scriptId="PushStreamManager_"+this.pushstream.id,this.useJSONP&&(this.pushstream.messagesControlByArgument=!0),this._internalListen(),this.opentimer=t.setTimeout(E(I,this),100),y.info("[LongPolling] connecting to:",this.xhrSettings.url)},_listen:function(){this._internalListenTimeout&&w(this._internalListenTimeout),this._internalListenTimeout=t.setTimeout(this._linkedInternalListen,this.pushstream.longPollingTimeout)},_internalListen:function(){this.pushstream._keepConnected&&(this.xhrSettings.url=this.pushstream._useControlArguments()?this.urlWithoutBacktrack:this.urlWithBacktrack,this.xhrSettings.data=r({},this.pushstream.extraParams(),this.xhrSettings.data,l(this.pushstream)),this.useJSONP?this.connection=S.jsonp(this.xhrSettings):this.connection||(this.connection=S.load(this.xhrSettings)))},disconnect:function(){this.connection&&(y.debug("[LongPolling] closing connection to:",this.xhrSettings.url),this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.opentimer=w(this.opentimer),this.connection){try{this.connection.abort()}catch(t){try{S.clear(this.connection)}catch(t){}}this.connection=null,this.xhrSettings.url=null}},beforeSend:function(t){this.pushstream.messagesControlByArgument||(t.setRequestHeader("If-None-Match",this.pushstream._etag),t.setRequestHeader("If-Modified-Since",this.pushstream._lastModified))},afterReceive:function(t){this.pushstream.messagesControlByArgument||(this.pushstream._etag=t.getResponseHeader("Etag"),this.pushstream._lastModified=t.getResponseHeader("Last-Modified")),this.connection=null},onerror:function(t){this.pushstream._keepConnected&&(304===t?this._listen():(y.info("[LongPolling] error (disconnected by server):",t),this._closeCurrentConnection(),this.pushstream._onerror({type:403===t||this.pushstream.readyState===j.CONNECTING?"load":"timeout"})))},onload:function(){this._listen()},onmessage:function(t){this._internalListenTimeout&&w(this._internalListenTimeout),y.info("[LongPolling] message received",t);for(var e=null,s=f(t)?t:t.replace(/\}\{/g,"}\r\n{").split("\r\n"),i=0;i<s.length;i++)s[i]&&(e=n.parseMessage(s[i],this.pushstream),this.messagesQueue.push(e),this.pushstream.messagesControlByArgument&&e.time&&(this.pushstream._etag=e.tag,this.pushstream._lastModified=e.time));for(this._listen();this.messagesQueue.length>0;){var o=this.messagesQueue.shift();this.pushstream._onmessage(o.text,o.id,o.channel,o.eventid,0===this.messagesQueue.length)}}};var k=[],j=function(e){e=e||{},this.id=k.push(this)-1,this.useSSL=e.useSSL||!1,this.host=e.host||t.location.hostname,this.port=Number(e.port||(this.useSSL?443:80)),this.timeout=e.timeout||3e4,this.pingtimeout=e.pingtimeout||3e4,this.reconnectOnTimeoutInterval=e.reconnectOnTimeoutInterval||3e3,this.reconnectOnChannelUnavailableInterval=e.reconnectOnChannelUnavailableInterval||6e4,this.lastEventId=e.lastEventId||null,this.messagesPublishedAfter=e.messagesPublishedAfter,this.messagesControlByArgument=e.messagesControlByArgument||!1,this.tagArgument=e.tagArgument||"tag",this.timeArgument=e.timeArgument||"time",this.eventIdArgument=e.eventIdArgument||"eventid",this.useJSONP=e.useJSONP||!1,this._reconnecttimer=null,this._etag=0,this._lastModified=null,this._lastEventId=null,this.urlPrefixPublisher=e.urlPrefixPublisher||"/pub",this.urlPrefixStream=e.urlPrefixStream||"/sub",this.urlPrefixEventsource=e.urlPrefixEventsource||"/ev",this.urlPrefixLongpolling=e.urlPrefixLongpolling||"/lp",this.urlPrefixWebsocket=e.urlPrefixWebsocket||"/ws",this.jsonIdKey=e.jsonIdKey||"id",this.jsonChannelKey=e.jsonChannelKey||"channel",this.jsonTextKey=e.jsonTextKey||"text",this.jsonTagKey=e.jsonTagKey||"tag",this.jsonTimeKey=e.jsonTimeKey||"time",this.jsonEventIdKey=e.jsonEventIdKey||"eventid",this.modes=(e.modes||"eventsource|websocket|stream|longpolling").split("|"),this.wrappers=[],this.wrapper=null,this.onchanneldeleted=e.onchanneldeleted||null,this.onmessage=e.onmessage||null,this.onerror=e.onerror||null,this.onstatuschange=e.onstatuschange||null,this.extraParams=e.extraParams||function(){return{}},this.channels={},this.channelsCount=0,this.channelsByArgument=e.channelsByArgument||!1,this.channelsArgument=e.channelsArgument||"channels",this.longPollingTimeout=100;for(var n=0;n<this.modes.length;n++)try{var s=null;switch(this.modes[n]){case"websocket":s=new x(this);break;case"eventsource":s=new A(this);break;case"longpolling":s=new M(this);break;case"stream":s=new N(this)}this.wrappers[this.wrappers.length]=s}catch(t){y.info(t)}this.readyState=0};j.LOG_LEVEL="error",j.LOG_OUTPUT_ELEMENT_ID="Log4jsLogOutput",j.CLOSED=0,j.CONNECTING=1,j.OPEN=2,j.prototype={addChannel:function(t,e){if(b(t)!==t)throw"Invalid channel name! Channel has to be a set of [a-zA-Z0-9]";if(y.debug("entering addChannel"),void 0!==this.channels[t])throw"Cannot add channel "+t+": already subscribed";e=e||{},y.info("adding channel",t,e),this.channels[t]=e,this.channelsCount++,this.readyState!==j.CLOSED&&this.connect(),y.debug("leaving addChannel")},removeChannel:function(t){this.channels[t]&&(y.info("removing channel",t),delete this.channels[t],this.channelsCount--)},removeAllChannels:function(){y.info("removing all channels"),this.channels={},this.channelsCount=0},_setState:function(t){this.readyState!==t&&(y.info("status changed",t),this.readyState=t,this.onstatuschange&&this.onstatuschange(this.readyState))},connect:function(){if(y.debug("entering connect"),!this.host)throw"PushStream host not specified";if(isNaN(this.port))throw"PushStream port not specified";if(!this.channelsCount)throw"No channels specified";if(0===this.wrappers.length)throw"No available support for this browser";this._keepConnected=!0,this._lastUsedMode=0,this._connect(),y.debug("leaving connect")},disconnect:function(){y.debug("entering disconnect"),this._keepConnected=!1,this._disconnect(),this._setState(j.CLOSED),y.info("disconnected"),y.debug("leaving disconnect")},_useControlArguments:function(){return this.messagesControlByArgument&&(null!==this._lastModified||null!==this._lastEventId)},_connect:function(){if(null===this._lastEventId&&(this._lastEventId=this.lastEventId),null===this._lastModified){var t=this.messagesPublishedAfter;if(!v(t)){var e=Number(this.messagesPublishedAfter);e>0?(t=new Date).setTime(t.getTime()-1e3*e):e<0&&(t=new Date(0))}v(t)&&(this._lastModified=n.dateToUTCString(t))}this._disconnect(),this._setState(j.CONNECTING),this.wrapper=this.wrappers[this._lastUsedMode++%this.wrappers.length];try{this.wrapper.connect()}catch(t){this.wrapper&&this.wrapper.disconnect()}},_disconnect:function(){this._reconnecttimer=w(this._reconnecttimer),this.wrapper&&this.wrapper.disconnect()},_onopen:function(){this._reconnecttimer=w(this._reconnecttimer),this._setState(j.OPEN),this._lastUsedMode>0&&this._lastUsedMode--},_onclose:function(){this._reconnecttimer=w(this._reconnecttimer),this._setState(j.CLOSED),this._reconnect(this.reconnectOnTimeoutInterval)},_onmessage:function(t,e,n,s,i){y.debug("message",t,e,n,s,i),-2===e?this.onchanneldeleted&&this.onchanneldeleted(n):e>0&&this.onmessage&&this.onmessage(t,e,n,s,i)},_onerror:function(t){this._setState(j.CLOSED),this._reconnect("timeout"===t.type?this.reconnectOnTimeoutInterval:this.reconnectOnChannelUnavailableInterval),this.onerror&&this.onerror(t)},_reconnect:function(e){this._keepConnected&&!this._reconnecttimer&&this.readyState!==j.CONNECTING&&(y.info("trying to reconnect in",e),this._reconnecttimer=t.setTimeout(E(this._connect,this),e))},sendMessage:function(t,e,n){t=b(t),this.wrapper.type===x.TYPE?(this.wrapper.sendMessage(t),e&&e()):S.post({url:P(this),data:t,success:e,error:n})},setLongPollingTimeout:function(t){this.longPollingTimeout=t}},j.sendMessage=function(t,e,n,s){S.post({url:t,data:b(e),success:n,error:s})},j.register=function(t){var e=t.window.location.href.match(/streamid=([0-9]*)&?/);e[1]&&k[e[1]]&&k[e[1]].wrapper.register(t)},j.unload=function(){for(var t=0;t<k.length;t++)try{k[t].disconnect()}catch(t){}},t.PushStream=j,t.PushStreamManager=k,t.attachEvent&&t.attachEvent("onunload",j.unload),t.addEventListener&&t.addEventListener.call(t,"unload",j.unload,!1)}}(window,document);